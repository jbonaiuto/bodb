{% load staticfiles %}
<script type="text/javascript">
    function updateSEDSearchOptions(sedType)
    {
        if(sedType=='brain imaging')
            animatedcollapse.show(['sedImagingTypeOptions']);
        else
            animatedcollapse.hide(['sedImagingTypeOptions']);
        if(sedType=='connectivity')
            animatedcollapse.show(['sedConnectivityTypeOptions']);
        else
            animatedcollapse.hide(['sedConnectivityTypeOptions']);
        if(sedType=='event related potential')
            animatedcollapse.show(['sedERPTypeOptions']);
        else
            animatedcollapse.hide(['sedERPTypeOptions']);
    }

    animatedcollapse.addDiv('sedAdvancedOptions', 'fade=1');
    animatedcollapse.addDiv('sedImagingTypeOptions', 'fade=1');
    animatedcollapse.addDiv('sedConnectivityTypeOptions', 'fade=1');
    animatedcollapse.addDiv('sedERPTypeOptions', 'fade=1');

    $( document ).ready(function() {
        document.getElementById('sedData').style.display='inline';
    });
</script>
<div id="sedDiv" style="display:{%ifequal searchType 'seds'%}block{% else %}none{% endifequal %}">
    <form id="sed_search_form" method="post" action="">
        {% csrf_token %}
        <input type="hidden" id="searchType" name="searchType" value="seds"/>
        <table class="tab_panel">
            <tr>
                <td colspan=10><strong>Any field:</strong>&nbsp;{{ sed_search_form.keywords }}</td>
            </tr>
            <tr>
                <td colspan=10 style="padding:0px">
                    <b class="b1f"></b><b class="b2f"></b><b class="b3f"></b><b class="b4f"></b></span>
                </td>
            </tr>
            <tr class="section_header">
                <td colspan=10>
                    Advanced Options (<a href="javascript:animatedcollapse.toggle('sedAdvancedOptions')"><span id="sedAdvancedOptionsLabel">Show</span></a>)
                </td>
            </tr>
            <tr>
                <td colspan=10 style="padding:0px">
                    <b class="b4f"></b><b class="b3f"></b><b class="b2f"></b><b class="b1f"></b></span>
                </td>
            </tr>
            <tr class="section_body">
                <td colspan=10 style="padding:0px">
                    <div id="sedAdvancedOptions" style="display:none">
                        <b class="d1f"></b><b class="d2f"></b><b class="d3f"></b><b class="d4f"></b>
                        <table class="tab_panel" style="background:#e6e8ed;">
                            <tr>
                                <td width=20%><strong>Title</strong></td>
                                <td>{{ sed_search_form.title }}</td>
                            </tr>
                            <tr>
                                <td><strong>Description</strong></td>
                                <td>{{ sed_search_form.description }}</td>
                            </tr>
                            <tr>
                                <td><strong>Narrative</strong></td>
                                <td>{{ sed_search_form.narrative }}</td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Tags</strong>
                                </td>
                                <td>{{ sed_search_form.tags }}</td>
                            </tr>
                            <tr>
                                <td><strong>Type</strong></td>
                                <td>{{ sed_search_form.type }}</td>
                            </tr>
                            <tr>
                                <td colspan=2>
                                    <div id="sedImagingTypeOptions" style="display:{% if sed_search_form.type.value == 'brain imaging' %}inline{% else %}none{% endif %}">
                                        <table class="tab_panel">
                                            <tr>
                                                <td width=20%><strong>Control Condition</strong></td>
                                                <td>{{ sed_search_form.control_condition }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Experimental Condition</strong></td>
                                                <td>{{ sed_search_form.experimental_condition }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Method</strong></td>
                                                <td>{{ sed_search_form.method }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Coordinate Brain Region</strong></td>
                                                <td>{{ sed_search_form.coordinate_brain_region }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Coordinate Range</strong></td>
                                                <td>{{ sed_search_form.x_min }} &#8804; x &#8804; {{ sed_search_form.x_max }}, {{ sed_search_form.y_min }} &#8804; y &#8804; {{ sed_search_form.y_max }}, {{ sed_search_form.z_min }} &#8804; z &#8804; {{ sed_search_form.z_max }}</td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div id="sedConnectivityTypeOptions" style="display:{% if sed_search_form.type.value == 'connectivity' %}inline{% else %}none{% endif %}">
                                        <table class="tab_panel">
                                            <tr>
                                                <td width="20%"><strong>Source Region</strong></td>
                                                <td>{{ sed_search_form.source_region }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Source Region Nomenclature</strong></td>
                                                <td>{{ sed_search_form.source_region_nomenclature }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Target Region</strong></td>
                                                <td>{{ sed_search_form.target_region }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Target Region Nomenclature</strong></td>
                                                <td>{{ sed_search_form.target_region_nomenclature }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Source or Target Region</strong></td>
                                                <td>{{ sed_search_form.connection_region }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Source or Target Region Nomenclature</strong></td>
                                                <td>{{ sed_search_form.connection_region_nomenclature }}</td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div id="sedERPTypeOptions" style="display:{% if sed_search_form.type.value == 'event related potential' %}inline{% else %}none{% endif %}">
                                        <table class="tab_panel">
                                            <tr>
                                                <td width=20%><strong>Cognitive Paradigm</strong></td>
                                                <td>{{ sed_search_form.cognitive_paradigm }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Sensory Modality</strong></td>
                                                <td>{{ sed_search_form.sensory_modality }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Response Modality</strong></td>
                                                <td>{{ sed_search_form.response_modality }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Control Condition</strong></td>
                                                <td>{{ sed_search_form.erp_control_condition }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Experimental Condition</strong></td>
                                                <td>{{ sed_search_form.erp_experimental_condition }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Component Name</strong></td>
                                                <td>{{ sed_search_form.erp_component_name }}</td>
                                            </tr>
                                            <tr>
                                                <td colspan="2">{{ sed_search_form.latency_peak_min }} &#8804; <strong>Peak Latency</strong> &#8804; {{ sed_search_form.latency_peak_max }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Peak Latency Type</strong></td>
                                                <td>{{ sed_search_form.latency_peak_type }}</td>
                                            </tr>
                                            <tr>
                                                <td colspan="2">{{ sed_search_form.latency_onset_min }} &#8804; <strong>Peak Latency Onset</strong> &#8804; {{ sed_search_form.latency_onset_max }}</td>
                                            </tr>
                                            <tr>
                                                <td colspan="2">{{ sed_search_form.amplitude_peak_min }} &#8804; <strong>Peak Amplitude</strong> &#8804; {{ sed_search_form.amplitude_peak_max }}</td>
                                            </tr>
                                            <tr>
                                                <td colspan="2">{{ sed_search_form.amplitude_mean_min }} &#8804; <strong>Mean Amplitude</strong> &#8804; {{ sed_search_form.amplitude_mean_max }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Scalp Region</strong></td>
                                                <td>{{ sed_search_form.scalp_region }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Electrode Cap</strong></td>
                                                <td>{{ sed_search_form.electrode_cap }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Electrode Name</strong></td>
                                                <td>{{ sed_search_form.electrode_name }}</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Source</strong></td>
                                                <td>{{ sed_search_form.source }}</td>
                                            </tr>
                                        </table>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>Tags</strong></td>
                                <td>{{ sed_search_form.tags }}</td>
                            </tr>
                            <tr>
                                <td><strong>Public</strong></td>
                                <td>{{ sed_search_form.public }}</td>
                            </tr>
                            <tr>
                                <td><strong>Related Brain Regions</strong></td>
                                <td>{{ sed_search_form.related_brain_region }}</td>
                            </tr>
                            <tr>
                                <td><strong>Created</strong></td>
                                <td>{{ sed_search_form.created_from }} - {{ sed_search_form.created_to }}</td>
                            </tr>
                            <tr class="col_header">
                                <td colspan=2>Collator</td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Username</strong>
                                </td>
                                <td>
                                    {{ sed_search_form.username }}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>First name</strong>
                                </td>
                                <td>
                                    {{ sed_search_form.first_name }}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Last name</strong>
                                </td>
                                <td>
                                    {{ sed_search_form.last_name }}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Only my entries</strong>
                                </td>
                                <td>{{ sed_search_form.collator }}</td>
                            </tr>
                            <tr class="col_header">
                                <td colspan=2>Related Literature</td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Title</strong>
                                </td>
                                <td>{{ sed_search_form.related_literature_title }}</td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Author</strong>
                                </td>
                                <td>{{ sed_search_form.related_literature_author }}</td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Year</strong>
                                </td>
                                <td>{{ sed_search_form.related_literature_year_min }} - {{ sed_search_form.related_literature_year_max }}</td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Annotation</strong>
                                </td>
                                <td>{{ sed_search_form.related_literature_annotation }}</td>
                            </tr>
                        </table>
                        <b class="d4f"></b><b class="d3f"></b><b class="d2f"></b><b class="d1f"></b>
                    </div>
                </td>
            </tr>
            <tr>
                <td colspan=10>
                    <input class="btn" type="button" value="Search" onclick="document.getElementById('sed_search_form').submit();" onmouseover="this.className='btn btnhov'" onmouseout="this.className='btn'"/>
                    Search federated databases (warning this may drastically slow the search): CoCoMac {{ sed_search_form.search_cocomac }} Brede {{ sed_search_form.search_brede }}
                </td>
            </tr>
        </table>
    </form>
    <table class="tab_panel">
        <tr>
            <td colspan=10>&nbsp;</td>
        </tr>
        <tr>
            <td colspan=10 style="padding:0px">
                <b class="b1f"></b><b class="b2f"></b><b class="b3f"></b><b class="b4f"></b>
            </td>
        </tr>
        <tr class="section_header">
            <td colspan=10>Results</td>
        </tr>
        <tr class="table_header">
            <td colspan=10>
                <a href="/bodb/sed/generic/new/{% if ispopup %}?_popup=1{% endif %}">Add new generic SED</a><br>
                <a href="/bodb/sed/imaging/new/{% if ispopup %}?_popup=1{% endif %}">Add new brain imaging SED</a><br>
                <a href="/bodb/sed/erp/new/{% if ispopup %}?_popup=1{% endif %}">Add new ERP SED</a><br>
                <a href="/bodb/sed/connectivity/new/{% if ispopup %}?_popup=1{% endif %}">Add new Connectivity SED</a>
            </td>
        </tr>
        <tr>
            <td colspan="10">
                <div id="sedData" style="display:block;">
                    {% include "bodb/sed/sed_selection_list_view.html" %}
                </div>
            </td>
        </tr>

        <tr>
            <td colspan=10 style="padding:0px">
                <b class="b4f"></b><b class="b3f"></b><b class="b2f"></b><b class="b1f"></b>
            </td>
        </tr>
    </table>
</div>